{% autoescape off %}
\documentclass[letterpaper,12pt]{article}
\usepackage[utf8]{inputenc}
\usepackage{fullpage}
\usepackage{textpos}
\usepackage{tabularx}
\usepackage{graphicx}
\usepackage{color}
\usepackage{colortbl}
\usepackage{array}
\usepackage{amsfonts, amsmath, amsthm, amssymb}
\usepackage[left=.5in,top=1cm,right=.5in]{geometry}
\graphicspath{% templatetag openbrace %}{% templatetag openbrace %}{{ PROJECT_ROOT }}templates/program/modules/programprintables/{% templatetag closebrace %}{% templatetag closebrace %}

\pagestyle{empty}
\renewcommand*\arraystretch{1.5}
\newcolumntype{+}{>{\global \let \currentrowstyle \relax }}
\newcolumntype{^}{>{\currentrowstyle }}
\newcommand{\rowstyle}[1]{\gdef \currentrowstyle{#1} #1\ignorespaces}
\setlength{\parindent}{0pt}
\setlength{\parskip}{0pt}

\begin{document}
{% for student in students %}
~\\
\vspace*{1.75in}
\begin{center}
\begin{tabularx}{17cm}{X r}
\noindent
{% spaceless %}
\begin{minipage}{4in}
\Huge\textbf{ {{ student.getGrade|texescape }} $\bullet$ {{ student.last_name|texescape }} } \\
 \Large \textbf{ {{ student.first_name|texescape }} $\bullet$ {{ student.username|texescape }} $\bullet$ {{ student.id }} } \\
\end{minipage}
{% endspaceless %}
&
\includegraphics[width=0.5in]{splogol}\hspace{0.45in}

\end{tabularx}
\end{center}



\normalsize

\begin{center}
\begin{tabularx}{17cm}{|X|c|m{4in}|}
\hline
\multicolumn{3}{c}{
\rowstyle{\color{white}\cellcolor{black} } 
\textbf{Class Schedule for {{ student.name|texescape }} } }  \\
\multicolumn{1}{|c|}{\textbf{Class Time} } & \textbf{Room} & \multicolumn{1}{c|}{\textbf{Class} } \\
{% for cls in student.classes %}\hline
{% ifequal cls.event_type.description "Compulsory" %}
  \multicolumn{3}{|c|}{ \textbf{\textit{ {{ cls.description }} } } }
{% else %}
  {% ifequal cls.event_type.description "Class" %}
  \multicolumn{1}{|c|}{ {{ cls.start|date:"f" }} -- {{ cls.end|date:"f A" }} } & \multicolumn{2}{c|}{[NO CLASS]}
  {% else %}
  \multicolumn{1}{|c|}{ {{ cls.start_time.start|date:"f" }} -- {{ cls.start_time.end|date:"f A" }} } & {% if cls.initial_rooms|length_is:0 %}N/A{% else %}{{ cls.prettyrooms|join:", "|texescape }}{% endif %} & {{ cls.emailcode }}: {{ cls.title|truncatewords:5|texescape }}
  {% endifequal %}
{% endifequal %}
\\ 
{% endfor %}\hline
\end{tabularx}
\end{center}
{% if not forloop.last %}\pagebreak{% endif %}
{% endfor %}

\end{document}
{% endautoescape %}
