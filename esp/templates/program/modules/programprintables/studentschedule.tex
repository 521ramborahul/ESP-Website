{% autoescape off %}
\documentclass[letterpaper,12pt]{article}
\usepackage[utf8]{inputenc}
\usepackage{fullpage}
\usepackage{textpos}
\usepackage{tabularx}
\usepackage{graphicx}
\usepackage{color}
\usepackage{colortbl}
\usepackage{array}
\usepackage{amsfonts, amsmath, amsthm, amssymb}
\usepackage[left=.5in,top=1cm,right=.5in]{geometry}
\graphicspath{% templatetag openbrace %}{% templatetag openbrace %}{{ PROJECT_ROOT }}templates/program/modules/programprintables/{% templatetag closebrace %}{% templatetag closebrace %}

\pagestyle{empty}
\renewcommand*\arraystretch{1.25}
\newcolumntype{+}{>{\global \let \currentrowstyle \relax }}
\newcolumntype{^}{>{\currentrowstyle }}
\newcommand{\rowstyle}[1]{\gdef \currentrowstyle{#1} #1\ignorespaces}
\setlength{\parindent}{0pt}
\setlength{\parskip}{0pt}

\begin{document}
{% for student in students %}
~\\


\vspace*{3in}




\normalsize

\begin{center}
\begin{tabularx}{17cm}{|X|c|m{4.15in}|}
\hline
\multicolumn{1}{l}{
\rowstyle{\color{white}\cellcolor{black} } 
\textbf{ {{ student.last_name|texescape }} }
} &
\multicolumn{2}{r}{
\rowstyle{\color{white}\cellcolor{black} } 
{{ student.name|texescape }}'s Ripple Day }   \\
\multicolumn{1}{|c|}{\textbf{Time} } & \textbf{Room} & \multicolumn{1}{c|}{\textbf{Event} } \\
{% for cls in student.classes %}\hline
{% ifequal cls.event_type.description "Compulsory" %}
  \multicolumn{3}{|c|}{ \textbf{\textit{ {{ cls.description }} } } }
{% else %}
  {% ifequal cls.event_type.description "Class" %}

{% ifequal cls.id 51 %} 
 \multicolumn{1}{|c|}{ 9:45 -- 11 AM } & IdaCinema & Introductory Remarks and Opening Panel
{% else %}
  {% ifequal cls.id 50 %} 
  \multicolumn{1}{|c|}{ 12:30 -- 1:30 PM } & IdaCloister & Lunch and Open Conversation 
  {% else %}
    {% ifequal cls.id 52 %} 
    \multicolumn{1}{|c|}{ 4:20 -- 5:30 PM } & IdaCinema & Keynote Speech and Closing Remarks 
    {% else %}
    \multicolumn{1}{|c|}{ {{ cls.start|date:"f" }} -- {{ cls.end|date:"f A" }} } &
    \multicolumn{2}{|c|}{ Break }
    {% endifequal %}
  {% endifequal %}
{% endifequal %}

  {% else %}

{% if cls.start_time %}
  \multicolumn{1}{|c|}{ {{ cls.start_time.start|date:"f" }} -- {{ cls.start_time.end|date:"f A" }} } & {% if cls.initial_rooms|length_is:0 %}N/A{% else %}{{ cls.prettyrooms|join:", "|texescape }}{% endif %} & {{ cls.title|texescape }}
{% endif %}
  {% endifequal %}

{% endifequal %}
\\ 
{% endfor %}\hline
\end{tabularx}
\end{center}



\vspace*{2in}



{% if not forloop.last %}\pagebreak{% endif %}
{% endfor %}

\end{document}
{% endautoescape %}
