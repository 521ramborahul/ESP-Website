{% extends "elements/html" %}
{% block fulltitle %}Student Registration Summary for {{program.niceName}}{% endblock %}

{% block meta %}
  {{ block.super }}
  <meta http-equiv="refresh" content="120">
{% endblock %}

{% block stylesheets %}
  {{ block.super }}
  <link rel="stylesheet" type="text/css" href="/media/styles/bigboard.css" />
{% endblock %}

{% block xtrajs %}
  <script type="text/javascript" src="//code.highcharts.com/highcharts.js"></script>
{% endblock xtrajs %}


{% block body %}

<div class="bigboard-graph">
  <div id="highcharts-placeholder"></div>
  <script type="text/javascript">
    $j(function () {
      $j('#highcharts-placeholder').highcharts({
        legend: {
          align: "right",
          floating: true,
          layout: "vertical",
          verticalAlign: "middle",
        },
        plotOptions: {
          line: {
            marker: {enabled: false},
          },
        },
        title: {
          text: null,
        },
        tooltip: {
          shared: true,
        },
        xAxis: {
          type: 'datetime',
          minRange: 24 * 60 * 60 * 1000, // one day
        },
        yAxis: {
          title: {text: null},
          min: 0,
          maxPadding: 0.01,
          endOnTick: false,
        },
        series: [
          {% for series in graph_data %}
            {
              type: 'line',
              name: '{{series.description}}',
              pointInterval: 60 * 60 * 1000, // one hour
              pointStart: Date.UTC(
                  {{first_hour.year}}, {{first_hour.month}} - 1,
                  {{first_hour.day}}, {{first_hour.hour}}),
              data: {{series.data}},
            },
          {% endfor %}
        ],
      });
    });
  </script>
</div>

<div class="bigboard-numbers">
  {% for description, number in numbers %}
    <div class="bigboard-number-block">
      <div class="bigboard-number">{{number}}</div>
      <div class="bigboard-number-description">{{description}}</div>
    </div>
  {% endfor %}
</div>


<div class="popular-classeses">
  {% for description, classes in popular_classes %}
    <div class="popular-classes-block">
      <div class="popular-classes-heading">
        {{description}}
      </div>
      <table class="popular-classes">
        {% for class in classes %}
          <tr>
            <td class="popular-class-num">{{class.points}}</td>
            <td class="popular-class-title">
              {{class.category__symbol}}{{class.id}}: {{class.title}}
            </td>
          </tr>
        {% endfor %}
      </table>
    </div>
  {% endfor %}
</div>

{% endblock %}
